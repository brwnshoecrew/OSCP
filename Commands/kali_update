#!/bin/bash
source /home/kali/Ops/Commands/colors.sh
clear
# progress bar function
echo -e "${BLUE}Kali Linux Update Script\n"
if ping -c 1 -W 20 8.8.8.8 1> /dev/null 2> /dev/null
then
	echo -e "${GREEN}Internet Up!\n"
	
	echo -e "${YELLOW}[+] Clearing Local Ops Git. Please wait."
	cd /home/kali
	rm -rf Ops
	echo -e "${GREEN}Local Ops Git Cleared.\n"	
	
	echo -e "${YELLOW}[+] Creating New Local Ops. Please wait."
	cd /home/kali
	git clone https://github.com/brwnshoecrew/Ops.git
	chmod 755 Ops -R
	echo -e "${GREEN}New Local Ops Created.\n"
	
	echo -e "${YELLOW}[+] Updating bash config files. Please wait."
	rm /home/kali/.bashrc .bash_profile .profile
	cp /home/kali/Ops/Tools/.bashrc /home/kali/.bashrc
	cp /home/kali/Ops/Tools/.bash_profile /home/kali/.bash_profile
	cp /home/kali/Ops/Tools/.profile /home/kali/.profile
	echo -e "${GREEN}Bash config files updated.\n"
	
	echo -e "${YELLOW}[+] Updating TMUX config file. Please wait."
	rm /home/kali/.tmux.conf
	cp /home/kali/Ops/Tools/.tmux.conf /home/kali/.tmux.conf
	echo -e "${GREEN}TMUX config file updated.\n"
	
	echo -e "${YELLOW}[+] Updating AutoRecon. Please wait."
	cd /home/kali/Ops/Tools
	rm -rf AutoRecon
	git clone https://github.com/Tib3rius/AutoRecon.git
	chmod 755 AutoRecon -R
	echo -e "${GREEN}AutoRecon Updated.\n"
	
	echo -e "${YELLOW}[+] Updating Droopescan. Please wait."
	cd /home/kali/Ops/Tools
	rm -rf droopescan
	git clone https://github.com/droope/droopescan.git
	chmod 755 droopescan -R
	cd droopescan
	pip install -r requirements.txt
	echo -e "${GREEN}Droopescan Updated.\n"

	echo -e "${YELLOW}[+] Updating LinEnum. Please wait."
	cd /home/kali/Ops/Tools
	rm -rf LinEnum
	cd /home/kali/Ops/Post_Exploit
	git clone https://github.com/rebootuser/LinEnum.git
	chmod 755 LinEnum -R
	echo -e "${GREEN}LinEnum Updated.\n"

	echo -e "${YELLOW}[+] Updating Linux-Smart-Enumeration. Please wait."
	cd /home/kali/Ops/Tools
	rm -rf linux-smart-enumeration
	cd /home/kali/Ops/Post_Exploit
	wget https://raw.githubusercontent.com/diego-treitos/linux-smart-enumeration/master/lse.sh
	chmod 755 lse.sh
	echo -e "${GREEN}Linux-Smart-Enumeration Updated.\n"
	
	echo -e "${YELLOW}[+] Updating WinPEAS. Please wait."
	cd /home/kali/Ops/Post_Exploit
	rm -rf winPEASany.exe winPEASx64.exe winPEASx86.exe
	cd /home/kali/Ops/Post_Exploit
	wget https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/blob/master/winPEAS/winPEASexe/winPEAS/bin/Obfuscated%20Releases/winPEASany.exe
	chmod 755 winPEASany.exe
	wget https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/blob/master/winPEAS/winPEASexe/winPEAS/bin/Obfuscated%20Releases/winPEASx64.exe
	chmod 755 winPEASx64.exe
	wget https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/blob/master/winPEAS/winPEASexe/winPEAS/bin/Obfuscated%20Releases/winPEASx86.exe
	chmod 755 winPEASx86.exe
	echo -e "${GREEN}WinPEAS Updated.\n"

	echo -e "${YELLOW}[+] Updating LinPEAS. Please wait."
	cd /home/kali/Ops/Post_Exploit
	rm -rf linpeas.sh
	cd /home/kali/Ops/Post_Exploit
	wget https://raw.githubusercontent.com/carlospolop/privilege-escalation-awesome-scripts-suite/master/linPEAS/linpeas.sh
	chmod 755 linpeas.sh
	echo -e "${GREEN}LinPEAS Updated.\n"

	echo -e "${YELLOW}[+] Updating Spose. Please wait."
	cd /home/kali/Ops/Tools
	git clone https://github.com/aancw/spose.git
	chmod 755 spose -R
	echo -e "${GREEN}Spose Updated.\n"
	
	echo -e "${YELLOW}[+] Updating JAWS. Please wait."
	cd /home/kali/Ops/Tools
	git clone https://github.com/411Hall/JAWS.git
	chmod 755 JAWS -R
	echo -e "${GREEN}JAWS Updated.\n"
	
	echo -e "${YELLOW}[+] Updating PowerUp. Please wait."
	cd /home/kali/Ops/Tools
	wget https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Privesc/PowerUp.ps1
	chmod 755 PowerUp.ps1
	echo -e "${GREEN}PowerUp Updated.\n"
	
	echo -e "${YELLOW}[+] Updating Sherlock. Please wait."
	cd /home/kali/Ops/Tools
	wget https://raw.githubusercontent.com/rasta-mouse/Sherlock/master/Sherlock.ps1
	chmod 755 Sherlock.ps1
	echo "" >> Sherlock.ps1
	echo "Find-AllVulns" >> Sherlock.ps1
	echo -e "${GREEN}Sherlock Updated.\n"
	
	echo -e "${YELLOW}[+] Updating WinEnum.bat. Please wait."
	cd /home/kali/Ops/Tools
	wget https://raw.githubusercontent.com/absolomb/Pentesting/master/scripts/winenum.bat
	chmod 755 winenum.bat
	echo -e "${GREEN}WinEnum Updated.\n"
	
	echo -e "${YELLOW}[+] Updating WindowsEnum.ps1. Please wait."
	cd /home/kali/Ops/Tools
	wget https://raw.githubusercontent.com/absolomb/WindowsEnum/master/WindowsEnum.ps1
	chmod 755 WindowsEnum.ps1
	echo -e "${GREEN}WindowsEnum.ps1 Updated.\n"
	
	echo -e "${YELLOW}[+] Updating Nishang Powershell TCP. Please wait."
	cd /home/kali/Ops/Tools
	wget https://raw.githubusercontent.com/samratashok/nishang/master/Shells/Invoke-PowerShellTcp.ps1
	chmod 755 Invoke-PowerShellTcp.ps1
	echo -e "${GREEN}Nishang Powershell TCP Updated.\n"
	
	echo -e "${YELLOW}[+] Updating TENNC Shell Repo. Please wait."
	cd /home/kali/Ops/Shells
	git clone https://github.com/tennc/webshell.git
	chmod 755 webshell -R
	echo -e "${GREEN}TENNC Shell Repo Updated.\n"

	echo -e "${BLUE}Exiting.\n"
else
	echo -e "${RED}Internet Down...Exiting"
fi
exit
